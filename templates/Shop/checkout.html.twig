<!doctype html>
<html lang="zxx">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Checkout</title>

    <base href="/front_template/">

    <link rel="icon" href="img/favicon.png">
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">

    <style>
        .navbar-brand img { height: 44px !important; width: auto !important; object-fit: contain; }

        .body_bg{
            position: relative;
            min-height: 100vh;
            background: url("img/latest_war_img_1.png") center/cover no-repeat fixed;
        }
        .body_bg::before{
            content:"";
            position:absolute;
            inset:0;
            background: linear-gradient(135deg, rgba(0,0,0,.72), rgba(0,0,0,.40));
            pointer-events:none;
            z-index:0;
        }
        .body_bg > *{ position:relative; z-index:1; }

        .section_padding{ padding: 45px 0 80px !important; }

        .panel{
            background: rgba(255,255,255,.95);
            border: 1px solid rgba(255,255,255,.20);
            border-radius: 18px;
            box-shadow: 0 18px 55px rgba(0,0,0,.28);
            backdrop-filter: blur(8px);
            overflow: hidden;
        }
        .panel-inner{ padding: 18px; }

        .form-label{ font-weight: 800; margin-bottom: 6px; }
        .form-control{
            border-radius: 12px;
            border: 1px solid rgba(0,0,0,.12);
            height: 46px;
        }
        .form-control:focus{
            border-color: rgba(13,110,253,.50);
            box-shadow: 0 0 0 .2rem rgba(13,110,253,.15);
        }
        .btn_1{ border-radius:999px; font-weight:900; }
        .muted{ color:#6c757d; }
    </style>
</head>

<body>
<div class="body_bg">

    <header class="main_menu single_page_menu">
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-light">
                <a class="navbar-brand" href="/">
                    <img src="img/levelup_logo.png" alt="LevelUp">
                </a>

                <div class="collapse navbar-collapse main-menu-item">
                    <ul class="navbar-nav">
                        <li class="nav-item"><a class="nav-link" href="{{ path('shop_products') }}">Shop</a></li>
                        <li class="nav-item"><a class="nav-link" href="{{ path('my_orders') }}">My Orders</a></li>
                    </ul>
                </div>

                <a href="{{ path('shop_cart') }}" class="btn_1 d-none d-sm-block">Back To Cart</a>
            </nav>
        </div>
    </header>

    <section class="section_padding">
        <div class="container">

            {% for msg in app.flashes('success') %}
                <div class="alert alert-success">{{ msg }}</div>
            {% endfor %}
            {% for msg in app.flashes('error') %}
                <div class="alert alert-danger">{{ msg }}</div>
            {% endfor %}

            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="panel">
                        <div class="panel-inner">
                            <div class="d-flex justify-content-between align-items-center flex-wrap gap-2 mb-3">
                                <h3 class="m-0" style="font-weight:900;">Checkout</h3>
                                <div class="muted">
                                    Total: <span style="font-weight:900;color:#111;">{{ total }} TND</span>
                                </div>
                            </div>

                            {{ form_start(form, {attr: {novalidate: 'novalidate'}}) }}

                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">First Name</label>
                                    {{ form_widget(form.firstName, {'attr': {'class':'form-control', 'placeholder':'Your first name'}}) }}
                                    {{ form_errors(form.firstName) }}
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label class="form-label">Last Name</label>
                                    {{ form_widget(form.lastName, {'attr': {'class':'form-control', 'placeholder':'Your last name'}}) }}
                                    {{ form_errors(form.lastName) }}
                                </div>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Phone</label>
                                {{ form_widget(form.phone, {'attr': {'class':'form-control', 'placeholder':'+216 ...'}}) }}
                                {{ form_errors(form.phone) }}
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Email</label>
                                {{ form_widget(form.email, {'attr': {'class':'form-control', 'placeholder':'you@example.com'}}) }}
                                {{ form_errors(form.email) }}
                            </div>

                            <div class="mb-4">
                                <label class="form-label">Payment Method</label>
                                {{ form_widget(form.paymentMethod, {'attr': {'class':'form-control'}}) }}
                                {{ form_errors(form.paymentMethod) }}
                                <div class="muted small mt-1">
                                    Card is demo for now (later we can plug Stripe). COD keeps payment pending.
                                </div>
                            </div>

                            <button class="btn btn-primary w-100" type="submit" style="border-radius:999px;font-weight:900;">
                                Confirm & Place Order
                            </button>

                            {{ form_end(form) }}

                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>

</div>

<script src="js/jquery-1.12.1.min.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>
</body>
</html>