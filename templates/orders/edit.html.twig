{% extends 'back.html.twig' %}

{% block body %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Edit Order | Dashboard</title>

    <base href="/back_template/">
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/vendors/css/vendors.min.css">
    <link rel="stylesheet" href="assets/css/theme.min.css">

    <style>
        .page-subtitle { color:#6c757d; margin-top:6px; }
        .form-section-title { font-weight: 700; font-size: 14px; letter-spacing:.2px; }
        .form-section-hint { color:#6c757d; font-size: 12px; margin:0; }
        .soft-card { border-radius: 14px; overflow: hidden; }
        .soft-card .card-header { background: #fff; border-bottom: 1px solid rgba(0,0,0,.06); }
        .soft-card .card-body { background: #fff; }
        .sticky-actions {
            position: sticky;
            bottom: 12px;
            z-index: 9;
            background: rgba(255,255,255,.92);
            backdrop-filter: blur(8px);
            border: 1px solid rgba(0,0,0,.06);
            border-radius: 14px;
            padding: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,.08);
        }
        .nxl-content { padding-bottom: 90px !important; } /* space for sticky actions */
        .badge-soft {
            background: rgba(13,110,253,.10);
            color: #0d6efd;
            border: 1px solid rgba(13,110,253,.15);
            font-weight: 700;
        }
        .help-chip {
            display:inline-flex; align-items:center; gap:8px;
            padding:6px 10px; border-radius:999px;
            background: rgba(108,117,125,.08);
            border: 1px solid rgba(108,117,125,.12);
            color:#6c757d; font-size: 12px;
        }
    </style>
</head>

<body class="nxl-container">
<div class="nxl-content p-4">

    <!-- Header -->
    <div class="page-header mb-4">
        <div class="page-header-left d-flex align-items-center">
            <div class="page-header-title">
                <h5 class="m-b-10 mb-0">Edit Order</h5>
                <div class="page-subtitle">Update order information, status, and customer details.</div>
            </div>

            <ul class="breadcrumb ms-3 mb-0">
                <li class="breadcrumb-item"><a href="/dashboard">Dashboard</a></li>
                <li class="breadcrumb-item"><a href="{{ path('orders_index') }}">Orders</a></li>
                <li class="breadcrumb-item">Edit</li>
            </ul>
        </div>

        <div class="page-header-right ms-auto d-flex align-items-center gap-2">
            <span class="help-chip">
                <i class="feather-info"></i>
                Fields are saved when you click <b>Update</b>
            </span>
            <a href="{{ path('orders_index') }}" class="btn btn-light-brand">
                <i class="feather-arrow-left me-2"></i>Back
            </a>
        </div>
    </div>

    <div class="row g-4">
        <!-- Main form -->
        <div class="col-xl-8">
            <div class="card soft-card">
                <div class="card-header d-flex align-items-center justify-content-between">
                    <div>
                        <div class="form-section-title">Order Details</div>
                        <p class="form-section-hint">Reference, status, amount and creation date.</p>
                    </div>
                    <span class="badge badge-soft">Editing</span>
                </div>

                <div class="card-body">
                    {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}

                    <div class="row g-3">
                        <div class="col-md-6">
                            {{ form_row(form.reference, {'attr': {'class':'form-control'}}) }}
                        </div>
                        <div class="col-md-6">
                            {{ form_row(form.status) }}
                        </div>

                        <div class="col-md-6">
                            {{ form_row(form.totalAmount, {'attr': {'class':'form-control'}}) }}
                        </div>
                        <div class="col-md-6">
                            {{ form_row(form.createdAt) }}
                        </div>
                    </div>

                    <hr class="my-4">

                    <div class="d-flex align-items-start justify-content-between mb-2">
                        <div>
                            <div class="form-section-title">Customer Information</div>
                            <p class="form-section-hint">These details are shown in the order record.</p>
                        </div>
                    </div>

                    <div class="row g-3">
                        <div class="col-md-6">
                            {{ form_row(form.customerFirstName, {'attr': {'class':'form-control'}}) }}
                        </div>
                        <div class="col-md-6">
                            {{ form_row(form.customerLastName, {'attr': {'class':'form-control'}}) }}
                        </div>
                        <div class="col-md-6">
                            {{ form_row(form.customerPhone, {'attr': {'class':'form-control'}}) }}
                        </div>
                        <div class="col-md-6">
                            {{ form_row(form.customerEmail, {'attr': {'class':'form-control'}}) }}
                        </div>
                    </div>

                    <!-- Sticky actions (bottom) -->
                    <div class="sticky-actions mt-4 d-flex align-items-center justify-content-between">
                        <div class="d-flex align-items-center gap-2">
                            <a href="{{ path('orders_index') }}" class="btn btn-light-brand">
                                <i class="feather-x me-2"></i>Cancel
                            </a>
                        </div>

                        <div class="d-flex gap-2">
                            <button type="submit" class="btn btn-primary">
                                <i class="feather-save me-2"></i>Update Order
                            </button>
                        </div>
                    </div>

                    {{ form_end(form) }}
                </div>
            </div>
        </div>

        <!-- Right side summary card -->
        <div class="col-xl-4">
            <div class="card soft-card">
                <div class="card-header">
                    <div class="form-section-title">Quick Tips</div>
                    <p class="form-section-hint">To keep orders clean and consistent.</p>
                </div>
                <div class="card-body">
                    <ul class="mb-0" style="padding-left: 18px;">
                        <li class="mb-2">Keep <b>Reference</b> unique and readable.</li>
                        <li class="mb-2">Change <b>Status</b> carefully (it affects reporting).</li>
                        <li class="mb-2">Verify <b>Email</b> + <b>Phone</b> before saving.</li>
                        <li>Use <b>Cancel</b> to discard changes.</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

</div>
</body>
</html>
{% endblock %}
